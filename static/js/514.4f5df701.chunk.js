"use strict";(self.webpackChunknew_venture=self.webpackChunknew_venture||[]).push([[514],{7514:(e,n,t)=>{t.r(n),t.d(n,{default:()=>S});var s=t(5043),i=t(1637),o=t(5865),a=t(9650),r=t(3336),c=t(1806),l=t(4882),d=t(8076),h=t(2420),u=t(3460),g=t(1906),x=t(35),A=t(6600),j=t(5316),m=t(8533),p=t(5795),f=t(9347),v=t(5540),y=t(1563),C=t(6349),w=t(579);const S=function(){const[e,n]=(0,s.useState)([]),[t,S]=(0,s.useState)(!0),[T,b]=(0,s.useState)(null),[k,M]=(0,s.useState)(!1),[E,D]=(0,s.useState)({id:"",heading:"",content:""}),[H,N]=(0,s.useState)({heading:"",content:""}),[B,R]=(0,s.useState)({open:!1,message:"",severity:"info"});(0,s.useEffect)((()=>{(async()=>{try{const e=await(0,y.Hh)();n(e)}catch(T){b(T.message)}finally{S(!1)}})()}),[]);const _=()=>{M(!1)},q=e=>{const{name:n,value:t}=e.target;"heading"===n&&t.length>20?N({...H,heading:"Maximum 20 characters allowed"}):"content"===n&&t.length>100?N({...H,content:"Maximum 100 characters allowed"}):(D((e=>({...e,[n]:t}))),N((e=>({...e,[n]:""}))))};if(t)return(0,w.jsx)(i.A,{});if(T)return(0,w.jsxs)(o.A,{color:"error",children:["Error: ",T]});const F=e=>{const n=e.split(" ");return n.length>2?n.slice(0,2).join(" ")+"...":e};return(0,w.jsxs)("div",{children:[(0,w.jsx)(o.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"Page Heading"}),(0,w.jsx)(a.A,{component:r.A,children:(0,w.jsxs)(c.A,{children:[(0,w.jsx)(l.A,{children:(0,w.jsxs)(d.A,{children:[(0,w.jsx)(h.A,{children:"S No."}),(0,w.jsx)(h.A,{children:"Heading"}),(0,w.jsx)(h.A,{children:"Content"}),(0,w.jsx)(h.A,{children:"Edit"})]})}),(0,w.jsx)(u.A,{children:e.map((e=>(0,w.jsxs)(d.A,{children:[(0,w.jsx)(h.A,{children:e.id}),(0,w.jsx)(h.A,{children:e.heading}),(0,w.jsx)(h.A,{children:F(e.content)}),(0,w.jsx)(h.A,{children:(0,w.jsx)(g.A,{startIcon:(0,w.jsx)(v.A,{}),onClick:()=>(e=>{D(e),N({heading:"",content:""}),M(!0)})(e),children:"Edit"})})]},e.id)))})]})}),(0,w.jsxs)(x.A,{open:k,onClose:_,children:[(0,w.jsx)(A.A,{children:"Edit Section"}),(0,w.jsxs)(j.A,{children:[(0,w.jsx)(m.A,{children:"To edit this section, please modify the fields below."}),(0,w.jsx)(p.A,{autoFocus:!0,margin:"dense",name:"heading",label:"Heading",type:"text",fullWidth:!0,id:"outlined-basic",variant:"outlined",value:E.heading,onChange:q,error:Boolean(H.heading),helperText:H.heading}),(0,w.jsx)(p.A,{margin:"dense",name:"content",label:"Content",type:"text",fullWidth:!0,id:"outlined-basic",variant:"outlined",value:E.content,onChange:q,error:Boolean(H.content),helperText:H.content})]}),(0,w.jsxs)(f.A,{children:[(0,w.jsx)(g.A,{onClick:_,children:"Cancel"}),(0,w.jsx)(g.A,{onClick:async()=>{if((()=>{const e={heading:"",content:""};let n=!0;return E.heading||(e.heading="This field is required",n=!1),E.content||(e.content="This field is required",n=!1),N(e),n})())try{const e={id:E.id,content:E.content,heading:E.heading},t=await(0,y._c)(E.id,e);n((e=>e.map((e=>e.id===E.id?{...e,content:E.content,heading:E.heading}:e)))),R({open:!0,message:t.message,severity:"success"})}catch(T){R({open:!0,message:"Error updating data: ".concat(T.message),severity:"error"}),b(T.message)}finally{_()}},children:"Save"})]})]}),(0,w.jsx)(C.A,{open:B.open,handleClose:()=>R({...B,open:!1}),alertMessage:B.message,alertSeverity:B.severity})]})}},8533:(e,n,t)=>{t.d(n,{A:()=>p});var s=t(8587),i=t(8168),o=t(5043),a=t(8387),r=t(8606),c=t(4535),l=t(1475),d=t(1070),h=t(5865),u=t(7056),g=t(2400);function x(e){return(0,g.Ay)("MuiDialogContentText",e)}(0,u.A)("MuiDialogContentText",["root"]);var A=t(579);const j=["children","className"],m=(0,c.Ay)(h.A,{shouldForwardProp:e=>(0,l.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,n)=>n.root})({}),p=o.forwardRef((function(e,n){const t=(0,d.A)({props:e,name:"MuiDialogContentText"}),{className:o}=t,c=(0,s.A)(t,j),l=(e=>{const{classes:n}=e,t=(0,r.A)({root:["root"]},x,n);return(0,i.A)({},n,t)})(c);return(0,A.jsx)(m,(0,i.A)({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:c,className:(0,a.A)(l.root,o)},t,{classes:l}))}))}}]);
//# sourceMappingURL=514.4f5df701.chunk.js.map